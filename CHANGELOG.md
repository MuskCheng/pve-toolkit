# 更新日志

所有重要的更改都将记录在此文件中。

## [V0.5.10] - 2026-02-22

### 重构

- **主菜单精简**
  - 删除备份管理、VM 管理、常用工具等非核心功能
  - 主菜单从 8 项精简为 3 项
  - 代码行数从 1652 行减少至 ~1000 行

### 新增

- **容器操作子菜单**
  - LXC 容器管理新增"容器操作"子菜单
  - 整合控制台/启动/停止/重启/克隆/修改资源功能

- **系统清理增强**
  - 新增多种清理选项：apt 缓存、旧内核、临时文件
  - 支持单独或完整清理

### 优化

- **Docker 环境检测**
  - 支持 Docker Compose V1/V2 兼容检测
  - 部署前自动检查并安装 Docker 环境

- **LXC 创建优化**
  - 创建容器时询问是否预装 Docker 环境

## [V0.5.7] - 2026-02-22

### 修复

- **Docker 安装**
  - 修复 Docker Compose 安装失败问题
  - 改进安装逻辑，支持多种安装方式（apt → pip → 二进制）

## [V0.5.6] - 2026-02-22

### 新增

- **LXC 创建容器**
  - 增加磁盘空间建议提示
  - 默认磁盘大小从 20GB 调整为 8GB

## [V0.5.5] - 2026-02-22

### 新增

- **Docker 管理功能增强**
  - 新增 Docker 部署向导（使用 docker run 部署单个容器）
  - 支持在线选择热门镜像（Nginx, MySQL, PostgreSQL, Redis, MongoDB, etc.）
  - Docker Compose 部署向导新增自定义部署（粘贴 docker-compose.yml）
  - 所有部署向导自动检查并安装 Docker/Docker Compose

### 优化

- Docker 管理菜单结构调整
- 安装 Docker 时自动包含 Docker Compose

## [V0.5.4] - 2026-02-22

### 修复

- **LXC 创建容器**
  - 修复模板名称包含状态信息问题

## [V0.5.3] - 2026-02-22

### 修复

- **LXC 创建容器**
  - 修复模板名称错误导致容器创建失败

## [V0.5.2] - 2026-02-22

### 新增

- **LXC 创建容器优化**
  - 创建容器默认使用最新模板，移除手动选择

## [V0.5.1] - 2026-02-22

### 新增

- **LXC 创建容器优化**
  - 下载新模板后自动清理旧版 Debian 模板
  - 创建容器前显示当前 LXC 容器列表

## [V0.5.0] - 2026-02-22

### 新增

- **LXC 创建容器优化**
  - 自动检测并下载 Proxmox 官方镜像库中最新 Debian 模板
  - 创建容器时自动使用最新模板
  - 本地模板已存在时跳过下载
  - 用户仍可手动选择其他模板

## [V0.38] - 2026-02-21

### 新增

- **LXC 创建容器优化**
  - 创建容器前显示已下载的 LXC 模板列表
  - 支持用户选择使用哪个模板
  - 默认使用 debian-12-standard 模板
- **Docker 管理增强**
  - 新增独立的 Docker 管理子菜单
  - 安装 Docker / Docker Compose
  - Docker Compose 部署向导（预置9种常用服务模板）
  - 一键升级镜像功能
- **版本管理优化**
  - 创建 VERSION 文件统一管理版本号
  - 启动时自动查询 GitHub 最新版本

## [V0.28] - 2026-02-21

### 重构

- 移除交互模式，改为纯命令行模式
- 解决管道执行的闪屏问题
- 代码精简至约 150 行

## [V0.18] - 2026-02-21

### 修复

- 安装脚本对 apt 镜像源错误更宽容
- 修复 Docker 安装兼容性问题（支持多源回退：官方源→阿里云源→系统自带）

## [V0.1] - 初始版本

### 新增

- **主框架**
  - 交互式菜单界面
  - 命令行模式支持
  - ASCII Logo 显示
- **备份管理模块**
  - 列出所有 VM/LXC 备份
  - 创建备份（支持 snapshot 模式）
  - 清理过期备份
  - 恢复备份
- **系统监控模块**
  - 系统状态概览（CPU/内存/磁盘/运行时间）
  - 虚拟机状态列表
  - LXC 容器状态列表
  - 资源阈值检查告警
  - 网络接口状态
  - 系统日志查看
- **LXC 容器管理模块**
  - 列出所有容器
  - 创建容器（支持自定义配置）
  - 启动/停止/重启容器
  - 删除容器（支持强制删除）
  - 容器详情查看
  - Docker 安装（使用阿里云镜像源加速）
  - Docker Compose 安装（使用 pip）
  - Docker 镜像源切换（6 个国内镜像源）
  - Docker 容器管理（镜像搜索、拉取、运行）
- **系统管理模块**
  - 显示镜像源配置
  - 切换镜像源（6 个国内镜像源）
  - 禁用 PVE 企业源
  - 配置 PVE 社区源
  - 系统更新
  - 系统清理
  - 系统信息显示
